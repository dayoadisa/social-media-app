<%- include('includes/header') %>
<%- include('includes/sidebar') %>
<%- include('includes/topbar') %>  
    
    

        <!-- Begin Page Content -->
        <div class="container-fluid-map">

          <!-- Page Heading -->
          

          <!-- Content Row -->
          <div class="row-map">
            
            <div id="map" ></div>
            
            <button id="add" data-toggle="modal" data-target="#modalRegisterForm"><i class="fas fa-plus-circle"></i></button>

            

  <%- include('includes/flash') %>
  <div class="text-center card" style="width: 18rem; margin-left: 550px;">
    <div class="card-header">
      Buildings
      <button type="button" class="btn btn-default" aria-label="Left Align">
      <a href="/post/<%= post._id %>/edit"><i class="fas fa-edit"></i></a>  
      </button>

      <form class="delete-post-form d-inline" action="/post/<%= post._id %>/delete" method="POST">
        <button class="delete-post-button text-danger" data-toggle="tooltip" data-placement="top" title="Delete"><i class="fas fa-trash"></i></button>
      </form>
    </div>
   
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Building Name: <%= post.name %></li>
      <li class="list-group-item">Address: <%= post.address %></li>
      <li class="list-group-item">Created By: <%= post.author.username %></li>
      <li class="list-group-item">Date: <%= post.createdDate.getMonth() + 1 %>/<%= post.createdDate.getDate() %>/<%= post.createdDate.getFullYear() %>.</li>
    </ul>
  </div>
          <!-- Content Row -->
          
        </div>

        </div>
      <!-- End of Main Content -->

      <!-- Footer -->
      <footer class="sticky-footer ">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy; VimAI 2020</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  </div>


<div class="modal fade" id="modalRegisterForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header text-center">
      <h4 class="modal-title w-100 font-weight-bold">Add building</h4>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body mx-3">
      <form action="/register" method="POST"  class="user"></form>
      <div class="form-group">
        <input type="text" class="form-control form-control-user" name="buildingName" id="building-name" placeholder="Building Name">
    </div> 
    
    <div id="geocoder" class="geocoder form-group">
      
    </div>
    <div class="form-group">
      <select class="form-control">
        <option>Select Region</option>
        <option>Europe</option>
        <option>Asia</option>
        <option>Americas</option>
        <option>Africa</option>
      </select>
      
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      <button  onclick="myFunction()"  class="btn btn-primary btn-user btn-block">Next</button>
    </div>
    </form>
    </div>
    
    </div>
  </div>
</div>

</div>

<script>
 
 var post = <%- JSON.stringify(post) %>; 
mapboxgl.accessToken = 'pk.eyJ1IjoiZGF5b2FkaXNhIiwiYSI6ImNrNTRtbGUzcjAxcXUzbHBtdnhqcDBrNG4ifQ.rn9Zmw64xREqW0qPRVi-3A';


 var map = new mapboxgl.Map({
container: 'map',
 style: 'mapbox://styles/mapbox/streets-v11',
center: (post.coordinates),
 zoom: 16
 });

</script>


  <%- include('includes/scripts') %>


  


